<!doctype html>
<html lang="en" class="min-vh-100">
<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="styles/bootstrap.css">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="styles/style.css">

    <title>Elly - Records</title>
</head>

<body class="min-vh-100">

<header>
    <nav class="navbar navbar-expand-lg fixed-top navbar-dark bg-dark">
        <div class="container">
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarToggler"
                    aria-controls="navbarToggler" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarToggler">
                <a class="navbar-brand text-primary" href="/">
                    <i class="bi bi-file-earmark-medical-fill"></i>
                    Elly
                </a>
                <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                    <li class="nav-item">
                        <a class="nav-link" href="/">Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link active" aria-current="page" href="#">Records</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/photo-scan">Photo Scan</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
</header>

<main class="min-vh-100 mt-5">
    <section>
        <div class="container-fluid">

            <h1 class="text-primary mb-3">
                <i class="bi bi-people-fill"></i>
                Records
            </h1>
            <a class="btn btn-danger me-3" href="/api/clear">
                <i class="bi bi-backspace"></i>
                Clear Records
            </a>
            <button type="button" class="btn btn-success me-3" data-bs-toggle="modal" data-bs-target="#uploadModal">
                <i class="bi bi-upload"></i> Upload File
            </button>
            <a class="btn btn-info text-white me-3" href="/api/xlsx"><i class="bi bi-download"></i> Download All Records
                (XLSX)</a>

            <table class="table table-striped table-bordered mt-4">
                <thead>
                <tr class="mt-4 pt-5">
                    <th scope="col">Patient ID</th>
                    <th scope="col">Client Group</th>
                    <th scope="col">Lab ID</th>
                    <th scope="col">Name</th>
                    <th scope="col">Submitted</th>
                    <th scope="col">N/P/In-V/Re-test</th>
                    <th scope="col">Sample Type</th>
                    <th scope="col">Test Date</th>
                    <th scope="col">A/C/I</th>
                    <th scope="col">Payment Requested Date</th>
                    <th scope="col">Payment Received Amount</th>
                    <th scope="col">Payment Received Date</th>
                    <th scope="col">Actions</th>
                </tr>
                </thead>
                <tbody id="scanTable">

                </tbody>
            </table>

        </div>
    </section>
</main>

<!-- Footer -->
<footer class="bg-dark mt-auto py-4">
    <div class="container text-light">
        <address>
            <strong>Elly, Inc.</strong><br>
            1355 Market St, Suite 900<br>
            San Francisco, CA 94103<br>
            <abbr title="Phone">P:</abbr> (123) 456-7890
        </address>

        <address>
            <strong>Full Name</strong><br>
            <a href="mailto:first.last@example.com">first.last@example.com</a>
        </address>

        © 2020 Elly, Inc. · <a href="#">Privacy</a> · <a href="#">Terms</a>
    </div>
</footer>

<!-- Upload Modal -->
<div class="modal fade" id="uploadModal" tabindex="-1" aria-labelledby="uploadModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="uploadModalLabel">File Upload</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <form id="uploadForm" action="/api/upload" method="post" enctype="multipart/form-data">

                    <div class="mb-3 mt-3">
                        <label for="formFile" class="form-label">Upload your form (.pdf, .xlsx, .xls)</label>
                        <input class="form-control" type="file" id="uploadFile" name="uploadFile">
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn btn-primary" form="uploadForm" type="submit">Upload</button>
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>

<!-- Edit Modal -->
<div class="modal fade" id="editModal" tabindex="-1" aria-labelledby="editModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="editModalLabel">Edit Record Data</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <form id="editForm" action="" method="post">


                </form>
            </div>
            <div class="modal-footer">
                <button class="btn btn-primary" form="editForm" type="submit">Submit</button>
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>

<!-- Bundle: Bootstrap, jQuery -->
<script src="scripts/bundle.js"></script>

<!-- Custom JavaScript -->
<script src="scripts/records-page-init.js"></script>
<script src="scripts/table-populator.js"></script>
<script src="scripts/edit-modal-populator.js"></script>
</body>
</html>